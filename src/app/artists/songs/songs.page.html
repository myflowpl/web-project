<h1>Songs (found {{ store.length() }})</h1>
<p>artistId: {{ store.artistId() }}</p>
<button (click)="handleCreate()">Add new song</button>

@if (store.loader()) {
    <div class="h-2">
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </div>
}
@else {
        @if (store.loader.error(); as error) {
            <div>ERROR: {{ error.message }}</div>
        }
    <div class="flex gap-4 flex-col">
        @for (song of store.songs(); track $index) {
            <div class="flex gap-4">
                <span class="flex-1">{{ song.title }}</span>
                <button (click)="handleEdit(song)">Edit</button>
            </div>
        }
        @empty {
            <div>No songs found</div>
        }
    </div>
}

<mat-paginator 
    class="mt-4"
    [length]="store.length()"
    [pageSize]="store.pageSize()"
    [pageIndex]="store.pageIndex()"
    [pageSizeOptions]="[2, 5, 10, 25, 100]"
    (page)="store.setPageIndex($event)"
    aria-label="Select page">
</mat-paginator>
